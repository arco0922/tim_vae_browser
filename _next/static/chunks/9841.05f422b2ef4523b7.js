(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9841],{9841:function(n,t,e){"use strict";e.r(t),e.d(t,{ShapeLatentVisualizer:function(){return p}});var r=e(5893),a=e(2916),o=e(4524),i=e(7941),u=e(5952),c=e(5152),l=e.n(c),f=e(7294),s=e(4507),m=e.n(s);function v(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function d(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,a,o=[],i=!0,u=!1;try{for(e=e.call(n);!(i=(r=e.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==e.return||e.return()}finally{if(u)throw a}}return o}}(n,t)||function(n,t){if(!n)return;if("string"===typeof n)return v(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return v(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=l()((function(){return e.e(5968).then(e.bind(e,3718)).then((function(n){return n.ShapeLatentSketch}))}),{loadableGenerated:{webpack:function(){return[3718]}},ssr:!1}),y=800,p=function(n){var t=n.canvasId,e=n.annotations,c=n.visualizerConfig,l=n.className,s=f.useMemo((function(){for(var n=c.latentImgInfo,t=n.xmax,e=n.xmin,r=n.ymax,a=n.ymin,o=(t-e)/30,i=(r-a)/30,u=[],l=0;l<15;l++)for(var f=0;f<15;f++){var s=e+(2*l+1)*o,m=a+(2*f+1)*i;u.push([s,m])}return u}),[c]),v=f.useMemo((function(){return c.latentImgInfo.aspectRatio?y*c.latentImgInfo.aspectRatio:y}),[c]),p=f.useMemo((function(){return.75*Math.min(y/30,v/30)}),[v]),I=d(f.useState(null),2),b=I[0],g=I[1],S=d(f.useState(0),2),w=S[0],x=S[1],E=d(f.useState([]),2),j=E[0],k=E[1];return f.useEffect((function(){var n=new i.f(a.R.inputDim,a.R.outputDim);g(n)}),[e]),f.useEffect((function(){if(null!==b&&void 0!==e){var n=o.lZ[c.encoderId];if(void 0!==n){var t=0,r=!0,a=!1,i=void 0;try{for(var u,l=Object.entries(e)[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var f=d(u.value,2),s=f[0],m=f[1],v=n[s];b.addPoint(v,m),t+=1}}catch(h){a=!0,i=h}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}x(t)}}}),[c.encoderId,e,b]),f.useEffect((function(){if(null!==b&&0!==w){var n=[];s.forEach((function(t){var e=b.estimate(t),r=(0,u.H)(e);n.push({coord:t,samplingPoints:r})})),k(n)}}),[s,b,w]),(0,r.jsx)("div",{className:"".concat(m().container," ").concat(l||""),children:(0,r.jsx)(h,{canvasId:t,canvasWidth:y,canvasHeight:v,latentImgInfo:c.latentImgInfo,samplingPointsCollection:j,radius:p})})}},4507:function(){}}]);