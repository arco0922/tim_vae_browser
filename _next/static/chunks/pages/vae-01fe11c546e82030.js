(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2093],{3759:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vae",function(){return t(4413)}])},1639:function(n,e,t){"use strict";t.d(e,{z:function(){return u}});var r=t(5893),o=t(7294),i=t(1314),a=t.n(i),u=o.memo((function(n){var e=n.text,t=n.className,o=n.onClick,i=n.disabled,u=void 0!==i&&i;return(0,r.jsx)("button",{onClick:o,className:"".concat(a().button__basic," ").concat(t||""),disabled:u,children:e})}))},9497:function(n,e,t){"use strict";t.d(e,{Yu:function(){return q},Dy:function(){return G},sq:function(){return D},jq:function(){return V}});var r=t(9645),o=t.n(r);function a(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function u(n){if(Array.isArray(n))return n}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(n,e){return u(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(l){u=!0,o=l}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(n,e)||s(n,e)||l()}function f(n){return u(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||s(n,i)||l()}function s(n,e){if(n){if("string"===typeof n)return a(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(n,e):void 0}}var d,h,m=function(n,e){return[n.map((function(n){return I(N(n),e)})),n[0].length-1]},g=function(n,e){var t=e.nFft||2048,r=e.winLength||t,o=e.hopLength||Math.floor(r/4),i=j(r);i=_(i,t),e.center&&(n=w(n,Math.floor(t/2)));for(var a=b(n,t,o),u=[],l=a.length,c=t+2,f=0;f<l;f++){var s=new Float32Array(c);u[f]=s}for(var d=0;d<l;d++){var h=y(a[d],i),m=F(h);u[d].set(m.slice(0,c))}return u},v=function(n,e){for(var t=[],r=0;r<n.length;r++)t[r]=p(n[r],e);return t},p=function(n,e){if(n.length!==e[0].length)throw new Error("Each entry in filterbank should have dimensions "+"matching FFT. |mags| = ".concat(n.length,", ")+"|filterbank[0]| = ".concat(e[0].length,"."));for(var t=new Float32Array(e.length),r=0;r<e.length;r++){var o=y(n,e[r]);t[r]=o.reduce((function(n,e){return n+e}))}return t},y=function(n,e){for(var t=new Float32Array(n.length),r=0;r<n.length;r++)t[r]=e[r]*n[r];return t},_=function(n,e){if(n.length>e)throw new Error("Data is longer than length.");var t=Math.floor((e-n.length)/2),r=e-n.length-t;return x(n,[t,r])},x=function(n,e){var t,r,o;"object"===typeof e?(t=(o=c(e,2))[0],r=o[1]):t=r=e;var i=new Float32Array(n.length+t+r);return i.set(n,t),i},w=function(n,e){for(var t=x(n,e),r=0;r<e;r++)t[r]=t[2*e-r],t[t.length-r-1]=t[t.length-2*e+r-1];return t},b=function(n,e,t){for(var r=Math.floor((n.length-e)/t)+1,o=Array.from({length:r},(function(n,t){return new Float32Array(e)})),i=0;i<r;i++){var a=i*t,u=n.slice(a,a+e);o[i].set(u),u.length}return o},A=function(n){for(var e=function(n){var e=2/(u[2+n]-u[n]);s[n]=s[n].map((function(n){return n*e}))},t=n.fMin||0,r=n.fMax||n.sampleRate/2,o=n.nMels||128,i=n.nFft||2048,a=T(n.sampleRate,i),u=O(o+2,t,r),l=L(u),c=z(u,a),f=c[0].length,s=[],d=0;d<o;d++){s[d]=new Float32Array(f);for(var h=0;h<c[d].length;h++){var m=-c[d][h]/l[d],g=c[d+2][h]/l[d+1],v=Math.max(0,Math.min(m,g));s[d][h]=v}}for(var p=0;p<s.length;p++)e(p);return s},F=function(n){var e=new(o())(n.length),t=e.createComplexArray(),r=e.toComplexArray(n,null);return e.transform(t,r),t},j=function(n){for(var e=new Float32Array(n),t=0;t<n;t++)e[t]=.5*(1-Math.cos(2*Math.PI*t/(n-1)));return e},M=function(n,e,t){for(var r=(e-n)/(t-1),o=new Float32Array(t),i=0;i<t;i++)o[i]=n+r*i;return o},N=function(n){for(var e=new Float32Array(n.length/2),t=0;t<n.length/2;t++)e[t]=Math.sqrt(n[2*t]*n[2*t]+n[2*t+1]*n[2*t+1]);return e},S=function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return 2595*Math.log10(1+n/700);var t=0,r=200/3,o=(n-t)/r,i=1e3,a=(i-t)/r,u=Math.log(6.4)/27;return n>=i&&(o=a+Math.log(n/i)/u),o},T=function(n,e){return M(0,n/2,Math.floor(1+e/2))},O=function(n,e,t){var r=S(e),o=S(t),i=M(r,o,n).map((function(n){return function(n){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return 700*(Math.exp(n/1125)-1);var e=0,t=200/3,r=e+t*n,o=1e3,i=(o-e)/t,a=Math.log(6.4)/27;return n>=i&&(r=o*Math.exp(a*(n-i))),r}(n)}));return i},L=function(n){for(var e=new Float32Array(n.length-1),t=0;t<n.length;t++)e[t]=n[t+1]-n[t];return e},z=function(n,e){for(var t=[],r=0;r<n.length;r++)t[r]=new Float32Array(e.length);for(var o=0;o<n.length;o++)for(var i=0;i<e.length;i++)t[o][i]=n[o]-e[i];return t},I=function(n,e){return n.map((function(n){return Math.pow(n,e)}))},C=function(n){return n.reduce((function(n,e){return Math.max(n,e)}))},P=function(n){return n.reduce((function(n,e){return Math.min(n,e)}))},E=function(n){return n.reduce((function(n,e){return n+e}))/n.length},k=t(2230),R=function(n){return function(e){var t=e.map((function(n){return Array.from(n)})),r=k.odF(t),o=k.Fp7(r),i=k.gWQ(r,k.luU(o,k.iD$(80))),a=k.VV$(i),u=k.hiC(k.luU(i,a),k.IHx(k.luU(o,a),k.iD$(1e-6))),l=k.p4s(u);return k.XLQ(l,n)}},G={encoderId:"encoder01",encoderMode:"SHORT",isFlipped:!0,encoderJSONPath:"/models/encoder01/model.json",samplingRate:44100,frameLength:1024,encoderPreprocessor:(d=1024,h=[1,32,16,1],function(n){var e=function(n){for(var e=new Float32Array(n.length),t=P(n),r=(C(n)-t)/2+1e-5,o=E(n),i=0;i<n.length;i++)e[i]=(n[i]-o)/r;return e}(n),t=function(n,e){var t=g(n,e),r=f(m(t,1)),o=r[0];return r.slice(1),o}(e,{nFft:d})[0],r=k.RRF(t),o=k.hiC(r,k.iD$(d)),i=k.tPi(o,1,d/2);return k.XLQ(i,h)}),latentImgInfo:{imgSrc:"/imgs/latentImgs/encoder01.png",xmin:-.002,xmax:.0025,ymin:-.004,ymax:.004}},D=(function(n,e,t,r){}(44100,2048,1024,[1,128,64,1]),{encoderId:"encoder02_long",encoderMode:"LONG_FAST",isFlipped:!0,encoderJSONPath:"/models/encoder02_long/model.json",samplingRate:44100,frameLength:2048,encoderPreprocessor:R([1,128,64,1]),latentImgInfo:{imgSrc:"/imgs/latentImgs/encoder02_long.png",xmin:-3,xmax:4,ymin:-4.5,ymax:3}}),q=(R([1,128,64,1]),{encoderId:"encoder01_new",encoderMode:"LONG_FAST",isFlipped:!1,encoderJSONPath:"/models/encoder01_new/model.json",samplingRate:44100,frameLength:2048,encoderPreprocessor:R([1,128,64,1]),latentImgInfo:{imgSrc:"/imgs/latentImgs/encoder01_new.png",xmin:-4.338333368301392,xmax:3.107632875442505,ymin:-3.3266372680664062,ymax:3.557241439819336}}),V={encoderId:"encoder03_arai_iphone",encoderMode:"LONG_FAST",isFlipped:!1,encoderJSONPath:"/models/encoder03_arai_iphone/model.json",samplingRate:44100,frameLength:2048,encoderPreprocessor:R([1,128,64,1]),latentImgInfo:{imgSrc:"/imgs/latentImgs/encoder03_arai_iphone.png",xmin:-4.314516544342041,xmax:2.3160040378570557,ymin:-2.2613269090652466,ymax:3.136868715286255,aspectRatio:607/623}}},4413:function(n,e,t){"use strict";t.r(e);var r=t(5893),o=t(1639),i=t(9497),a=t(5152),u=t.n(a),l=t(7294),c=t(9679),f=t.n(c);function s(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function d(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(l){u=!0,o=l}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return s(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=u()((function(){return Promise.all([t.e(6006),t.e(4873),t.e(2250),t.e(2264),t.e(9818)]).then(t.bind(t,2264)).then((function(n){return n.AudioVisualizer}))}),{loadableGenerated:{webpack:function(){return[2264]}},ssr:!1}),m=u()((function(){return Promise.all([t.e(6006),t.e(4873),t.e(2250),t.e(2264),t.e(9818)]).then(t.bind(t,2264)).then((function(n){return n.AudioVisualizer}))}),{loadableGenerated:{webpack:function(){return[2264]}},ssr:!1});e.default=function(){var n=d(l.useState("LONG"),2),e=n[0],t=n[1];return(0,r.jsxs)("div",{className:f().container,children:[(0,r.jsx)("h1",{children:"VAE demo"}),(0,r.jsx)("h3",{className:f().caution,children:"Only Chrome is supported. Other browsers are not recommended."}),(0,r.jsxs)("div",{className:f().button__section,children:["SHORT"!==e&&(0,r.jsx)(o.z,{text:"Switch to SHORT VAE",onClick:function(){return t("SHORT")}}),"LONG"!==e&&(0,r.jsx)(o.z,{text:"Switch to LONG VAE",onClick:function(){return t("LONG")}})]}),(0,r.jsxs)("div",{className:f().main__content,children:["LONG"===e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m,{audioFilePath:"/audios/beginner.wav",visualizerConfig:i.jq,visualizeMode:"LATENT",title:"beginner"}),(0,r.jsx)(m,{audioFilePath:"/audios/intermediate.wav",visualizerConfig:i.jq,visualizeMode:"LATENT",title:"intermediate"}),(0,r.jsx)(m,{audioFilePath:"/audios/expert.wav",visualizerConfig:i.jq,visualizeMode:"LATENT",title:"expert1"}),(0,r.jsx)(m,{audioFilePath:"/audios/kidokoro.wav",visualizerConfig:i.jq,visualizeMode:"LATENT",title:"expert2"}),(0,r.jsx)(m,{audioFilePath:"/audios/kidokoro2.wav",visualizerConfig:i.jq,visualizeMode:"LATENT",title:"expert3"})]}),"SHORT"===e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h,{audioFilePath:"/audios/beginner.wav",visualizerConfig:i.Dy,visualizeMode:"LATENT",title:"beginner"}),(0,r.jsx)(h,{audioFilePath:"/audios/intermediate.wav",visualizerConfig:i.Dy,visualizeMode:"LATENT",title:"intermediate"}),(0,r.jsx)(h,{audioFilePath:"/audios/expert.wav",visualizerConfig:i.Dy,visualizeMode:"LATENT",title:"expert1"}),(0,r.jsx)(h,{audioFilePath:"/audios/kidokoro.wav",visualizerConfig:i.Dy,visualizeMode:"LATENT",title:"expert2"})]})]})]})}},1314:function(n){n.exports={button__basic:"Button_button__basic__5C4_V"}},9679:function(n){n.exports={container:"vae_container__Wj7G0",caution:"vae_caution___zQkl",main__content:"vae_main__content__0rUee",button__section:"vae_button__section__hYONk"}},5410:function(){},8628:function(){},1601:function(){},7792:function(){},4977:function(){},5042:function(){}},function(n){n.O(0,[864,2723,3132,5974,904,1642,1815,9774,2888,179],(function(){return e=3759,n(n.s=e);var e}));var e=n.O();_N_E=e}]);