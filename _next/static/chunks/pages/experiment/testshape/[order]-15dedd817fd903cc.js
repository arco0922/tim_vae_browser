(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{8449:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/experiment/testshape/[order]",function(){return r(5957)}])},5139:function(e,t,r){"use strict";r.d(t,{l:function(){return o},p:function(){return n}});var n=["es_1","es_2","es_3","es_4","es_5","es_6","es_7","es_8","es_9","es_10","es_11","es_12","es_13","es_14","es_15","es_16","es_17","es_18","es_19","es_20","es_21","es_22","es_23","es_24","es_25","es_26","es_27","es_28","es_29","es_30"],o={es_1:[-.12991683,.51399964],es_2:[1.2173853,-1.2688152],es_3:[-.6682352,.56844366],es_4:[-.5144279,.3468822],es_5:[1.2594261,.22532324],es_6:[1.942264,.5795594],es_7:[1.2616091,.7354205],es_8:[-.82685864,-2.7691643],es_9:[-.4448926,.9009369],es_10:[-.6017897,-.12565254],es_11:[-.632267,.39658317],es_12:[-.30472124,-1.0119449],es_13:[-2.2459862,-.046987526],es_14:[-.1900426,-.07025804],es_15:[-1.069805,-1.8510638],es_16:[1.9269141,1.5675982],es_17:[.47008872,-.47543785],es_18:[.97972715,-.7684627],es_19:[1.0005757,.20219986],es_20:[-.19848888,-.11152696],es_21:[-1.9714545,.26331356],es_22:[-.4941234,-3.1144269],es_23:[.84737563,2.349797],es_24:[-.2368369,-2.6661956],es_25:[.9297744,-.45025054],es_26:[.9722084,.3401682],es_27:[.0483609,-.81056833],es_28:[-.74932194,.38129127],es_29:[-1.7851858,.39712948],es_30:[2.1213462,-.09457346]}},560:function(e,t,r){"use strict";var n;r.d(t,{u:function(){return n}}),function(e){e.ANNOTATIONS="timmorph__annotations",e.CORRECT_ESTIMATION_HISTORY="timmorph__correctEstimationHistory",e.EXP_ANNOTATIONS="timmorph__exp__annotations",e.EXP_CORRECT_ESTIMATION_HISTORY="timmorph__exp__correctEstimationHistory",e.EXP_RESULTS="timmorph__exp__results",e.EXP_ORDER="timmorph__exp__order"}(n||(n={}))},5957:function(e,t,r){"use strict";r.r(t),r.d(t,{TestShapeId:function(){return w}});var n=r(5893),o=r(5139),u=r(560),i=r(6376),s=r(7724),a=r(5152),c=r.n(a),f=r(1163),l=r(7294),_=r(7844),d=r.n(_);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(u.push(n.value),!t||u.length!==t);i=!0);}catch(a){s=!0,o=a}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return u}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}var v=c()((function(){return Promise.all([r.e(6),r.e(873),r.e(437),r.e(90)]).then(r.bind(r,68)).then((function(e){return e.ShapeTester}))}),{loadableGenerated:{webpack:function(){return[68]}},ssr:!1}),b=o.p.map((function(e){return{expSoundId:e,testMode:"SUGGEST"}})),S=o.p.map((function(e){return{expSoundId:e,testMode:"RANDOM"}})),N=(0,i.T)(y(b).concat(y(S))),w=function(){var e=(0,f.useRouter)(),t=e.query.order,r=m(d()(u.u.EXP_ORDER,N),1)[0],i=m(d()(u.u.EXP_RESULTS,{}),2),a=i[0],c=i[1],_=m(d()(u.u.EXP_ANNOTATIONS,{}),1)[0],p=l.useCallback((function(){if(!(void 0===t||"object"===typeof t||NaN===Number(t)||Number(t)<=0||Number(t)>o.p.length)){var n=Number(t);n!==r.length?e.push("/experiment/testshape/".concat(n+1)):e.push("/experiment/end")}}),[t,e,r.length]);if(l.useEffect((function(){if(void 0===t||"object"===typeof t||NaN===Number(t)||Number(t)<=0||Number(t)>o.p.length)e.push("/experiment/testshape");else{var r=Number(t);console.log((0,s.j)(a)),(0,s.j)(a)!==r-1&&e.push("/experiment/testshape")}}),[t]),void 0===t||"object"===typeof t||NaN===Number(t)||Number(t)<=0||Number(t)>o.p.length)return null;var y=Number(t);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("h2",{children:["\u30b9\u30c6\u30c3\u30d72-",y]}),(0,n.jsx)(v,{expSoundId:r[y-1].expSoundId,testMode:r[y-1].testMode,expResults:a,setExpResults:c,annotations:_,goNextCallback:p})]})};t.default=w},6376:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,{T:function(){return u}});var u=function(e){for(var t=o(e).slice(0),r=t.length-1;r>=0;r--){var n,u=Math.floor(Math.random()*(r+1));n=[t[u],t[r]],t[r]=n[0],t[u]=n[1]}return t}},7724:function(e,t,r){"use strict";r.d(t,{j:function(){return o}});var n=r(5139),o=function(e){var t=0;return n.p.forEach((function(r){var n,o;(null===(n=e[r])||void 0===n?void 0:n.SUGGEST)&&(t+=1),(null===(o=e[r])||void 0===o?void 0:o.RANDOM)&&(t+=1)})),t}},1163:function(e,t,r){e.exports=r(880)},7844:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(7294);t.default=function(e,t,r){var u=o.useMemo((function(){return n({serializer:JSON.stringify,parser:JSON.parse,logger:console.log,syncData:!0},r)}),[r]),i=u.serializer,s=u.parser,a=u.logger,c=u.syncData,f=o.useState((function(){if("undefined"===typeof window)return t;try{var r=window.localStorage.getItem(e);return r?s(r):t}catch(n){return a(n),t}})),l=f[0],_=f[1];return o.useEffect((function(){if("undefined"!==typeof window){try{void 0!==l?window.localStorage.setItem(e,i(l)):window.localStorage.removeItem(e)}catch(t){a(t)}}}),[l]),o.useEffect((function(){if(c){var t=function(t){if(t.key===e&&t.storageArea===window.localStorage)try{_(t.newValue?s(t.newValue):void 0)}catch(t){a(t)}};if("undefined"!==typeof window)return window.addEventListener("storage",t),function(){return window.removeEventListener("storage",t)}}}),[e,c]),[l,_]}}},function(e){e.O(0,[774,888,179],(function(){return t=8449,e(e.s=t);var t}));var t=e.O();_N_E=t}]);