(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[544,640],{6544:function(e,r,n){"use strict";n.r(r),n.d(r,{Annotator:function(){return X}});var t=n(5893),a=n(2916),s=n(4524),o=["ss00","ss01","ss02","ss03","ss04","ss05","ss06","ss07","ss08","ss09","ss10","ss11","ss12","ss13","ss14","ss15","ss16","ss17","ss18","ss19","ss20","ss21","ss22","ss23","ss24"],u={ss00:{cornNum:20,cornAmp:0,randomness:0,randomSeed:1,innerCurve:0,outerCurve:0},ss01:{cornNum:8,cornAmp:.1,randomness:0,randomSeed:1,innerCurve:.1,outerCurve:.4},ss02:{cornNum:8,cornAmp:.3,randomness:0,randomSeed:1,innerCurve:.1,outerCurve:.4},ss03:{cornNum:8,cornAmp:.5,randomness:0,randomSeed:1,innerCurve:.1,outerCurve:.4},ss04:{cornNum:20,cornAmp:.1,randomness:0,randomSeed:1,innerCurve:.1,outerCurve:.2},ss05:{cornNum:20,cornAmp:.3,randomness:0,randomSeed:1,innerCurve:.1,outerCurve:.4},ss06:{cornNum:20,cornAmp:.5,randomness:0,randomSeed:1,innerCurve:.1,outerCurve:.4},ss07:{cornNum:8,cornAmp:.1,randomness:1,randomSeed:3,innerCurve:.1,outerCurve:.4},ss08:{cornNum:8,cornAmp:.3,randomness:1,randomSeed:3,innerCurve:.1,outerCurve:.4},ss09:{cornNum:8,cornAmp:.5,randomness:1,randomSeed:3,innerCurve:.1,outerCurve:.4},ss10:{cornNum:20,cornAmp:.1,randomness:1,randomSeed:3,innerCurve:.1,outerCurve:.2},ss11:{cornNum:20,cornAmp:.3,randomness:1,randomSeed:3,innerCurve:.1,outerCurve:.4},ss12:{cornNum:20,cornAmp:.5,randomness:1,randomSeed:3,innerCurve:.1,outerCurve:.4},ss13:{cornNum:8,cornAmp:.1,randomness:0,randomSeed:1,innerCurve:0,outerCurve:0},ss14:{cornNum:8,cornAmp:.3,randomness:0,randomSeed:1,innerCurve:0,outerCurve:0},ss15:{cornNum:8,cornAmp:.5,randomness:0,randomSeed:1,innerCurve:0,outerCurve:0},ss16:{cornNum:20,cornAmp:.1,randomness:0,randomSeed:1,innerCurve:0,outerCurve:0},ss17:{cornNum:20,cornAmp:.3,randomness:0,randomSeed:1,innerCurve:0,outerCurve:0},ss18:{cornNum:20,cornAmp:.5,randomness:0,randomSeed:1,innerCurve:0,outerCurve:0},ss19:{cornNum:8,cornAmp:.1,randomness:1,randomSeed:3,innerCurve:0,outerCurve:0},ss20:{cornNum:8,cornAmp:.3,randomness:1,randomSeed:3,innerCurve:0,outerCurve:0},ss21:{cornNum:8,cornAmp:.5,randomness:1,randomSeed:3,innerCurve:0,outerCurve:0},ss22:{cornNum:20,cornAmp:.1,randomness:1,randomSeed:3,innerCurve:0,outerCurve:0},ss23:{cornNum:20,cornAmp:.3,randomness:1,randomSeed:3,innerCurve:0,outerCurve:0},ss24:{cornNum:20,cornAmp:.5,randomness:1,randomSeed:3,innerCurve:0,outerCurve:0}},l=n(5640),c=n(7941),m=n(5952),d=n(7979),p=n(1163),f=n(7294),h=n(1314),v=n.n(h),_=f.memo((function(e){var r=e.text,n=e.className,a=e.onClick;return(0,t.jsx)("button",{onClick:a,className:"".concat(v().button__basic," ").concat(n||""),children:r})}));function b(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function S(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return b(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,r)}(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=n(5675),C=n.n(y);function x(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var j=function(e){return e.src},g=function(e){return(0,t.jsx)(C(),function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){x(e,r,n[r])}))}return e}({},e,{loader:j}))},N=n(6342),A=n.n(N),k=function(e){var r=e.index,n=e.sampleShapeId,a=e.selectCallback;return(0,t.jsxs)("div",{onClick:a,className:A().container,children:[(0,t.jsx)("p",{className:A().index__label,children:r}),(0,t.jsx)(g,{className:A().shape__image,src:(0,d.H)("/imgs/sampleShapes/".concat(n,".jpg")),alt:"".concat(r," shape"),width:150,height:150})]})},w=n(6338),E=n.n(w);function O(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function P(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,s=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(s.push(t.value),!r||s.length!==r);o=!0);}catch(i){u=!0,a=i}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return s}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return O(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(e){var r=e.selectCallback,n=P(f.useState(function(e){for(var r=S(e).slice(0),n=r.length-1;n>=0;n--){var t,a=Math.floor(Math.random()*(n+1));t=[r[a],r[n]],r[n]=t[0],r[a]=t[1]}return r}(o)),2),a=n[0];n[1];return(0,t.jsx)("div",{className:E().container,children:a.map((function(e,n){return(0,t.jsx)(k,{sampleShapeId:e,index:n+1,selectCallback:function(){return r(e)}},e)}))})},T=function(e){var r=e.value,n=e.setValue,a=e.min,s=e.max,o=e.step,u=e.disabled,i=void 0!==u&&u,l=e.className,c=f.useCallback((function(e){var r=Number(e.target.value);n(r)}),[n]);return(0,t.jsx)("input",{type:"range",min:a,max:s,step:o,disabled:i,value:r,onChange:c,className:l})},D={label:"\u30c4\u30ce\u306e\u672c\u6570",params:{min:5,max:30,step:1}},H={label:"\u30c4\u30ce\u306e\u9577\u3055",params:{min:0,max:.5,step:.01}},V={label:"\u30e9\u30f3\u30c0\u30e0\u306e\u5ea6\u5408\u3044",params:{min:0,max:1,step:.01}},F={label:"\u30e9\u30f3\u30c0\u30e0\u306e\u3055\u305b\u65b9",params:{min:1,max:20,step:1}},M={label:"\u30c4\u30ce\u306e\u6839\u5143\u306e\u4e38\u3055",params:{min:0,max:1,step:.01}},R={label:"\u30c4\u30ce\u306e\u5148\u7aef\u306e\u4e38\u3055",params:{min:0,max:1,step:.01}},W=n(3006),U=n.n(W),$=n(5152);function L(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function Y(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,s=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(s.push(t.value),!r||s.length!==r);o=!0);}catch(i){u=!0,a=i}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return s}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return L(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B=n.n($)()((function(){return n.e(688).then(n.bind(n,688)).then((function(e){return e.DrawFromParamSketch}))}),{loadableGenerated:{webpack:function(){return[688]}},ssr:!1}),G=function(e){var r=e.defaultShapeParams,n=e.confirmCallback,a=e.cancelCallback,s=D,o=Y(f.useState(r.cornNum),2),u=o[0],i=o[1],l=H,c=Y(f.useState(r.cornAmp),2),m=c[0],d=c[1],p=V,h=Y(f.useState(r.randomness),2),v=h[0],b=h[1],S=F,y=Y(f.useState(r.randomSeed),2),C=y[0],x=y[1],j=M,g=Y(f.useState(r.innerCurve),2),N=g[0],A=g[1],k=R,w=Y(f.useState(r.outerCurve),2),E=w[0],O=w[1];return f.useEffect((function(){i(r.cornNum),d(r.cornAmp),b(r.randomness),x(r.randomSeed),A(r.innerCurve),O(r.outerCurve)}),[r]),(0,t.jsxs)("div",{className:U().container,children:[(0,t.jsx)("div",{className:U().sketch__section,children:(0,t.jsx)(B,{canvasWidth:150,canvasHeight:150,shapeParams:{cornNum:u,cornAmp:m,randomness:v,randomSeed:C,innerCurve:N,outerCurve:E}})}),(0,t.jsxs)("div",{className:U().edit__section,children:[(0,t.jsxs)("div",{className:U().slider__section,children:[(0,t.jsxs)("div",{className:U().slider__wrapper,children:[(0,t.jsx)("span",{className:U().slider__label,children:s.label}),(0,t.jsx)(T,{value:u,setValue:i,min:s.params.min,max:s.params.max,step:s.params.step,className:U().slider})]}),(0,t.jsxs)("div",{className:U().slider__wrapper,children:[(0,t.jsx)("span",{className:U().slider__label,children:l.label}),(0,t.jsx)(T,{value:m,setValue:d,min:l.params.min,max:l.params.max,step:l.params.step,className:U().slider})]}),(0,t.jsxs)("div",{className:U().slider__wrapper,children:[(0,t.jsx)("span",{className:U().slider__label,children:p.label}),(0,t.jsx)(T,{value:v,setValue:b,min:p.params.min,max:p.params.max,step:p.params.step,className:U().slider})]}),(0,t.jsxs)("div",{className:U().slider__wrapper,children:[(0,t.jsx)("span",{className:U().slider__label,children:S.label}),(0,t.jsx)(T,{value:C,setValue:x,min:S.params.min,max:S.params.max,step:S.params.step,className:U().slider})]}),(0,t.jsxs)("div",{className:U().slider__wrapper,children:[(0,t.jsx)("span",{className:U().slider__label,children:j.label}),(0,t.jsx)(T,{value:N,setValue:A,min:j.params.min,max:j.params.max,step:j.params.step,className:U().slider})]}),(0,t.jsxs)("div",{className:U().slider__wrapper,children:[(0,t.jsx)("span",{className:U().slider__label,children:k.label}),(0,t.jsx)(T,{value:E,setValue:O,min:k.params.min,max:k.params.max,step:k.params.step,className:U().slider})]})]}),(0,t.jsxs)("div",{className:U().button__section,children:[void 0!==n&&(0,t.jsx)(_,{text:"\u6c7a\u5b9a",className:U().confirm__button,onClick:function(){return n({cornNum:u,cornAmp:m,randomness:v,randomSeed:C,innerCurve:N,outerCurve:E})}}),a&&(0,t.jsx)(_,{text:"\u30ad\u30e3\u30f3\u30bb\u30eb",className:U().cancel__button,onClick:a})]})]})]})},J=n(9678),Q=n.n(J);function Z(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function q(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function z(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){q(e,r,n[r])}))}return e}function K(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,s=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(s.push(t.value),!r||s.length!==r);o=!0);}catch(i){u=!0,a=i}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return s}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return Z(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X=function(e){var r=e.repSoundId,n=e.annotations,o=e.setAnnotations,i=f.useCallback((function(e){var t=z({},n,q({},r,e));o(t)}),[o]),h=f.useCallback((function(){var e=z({},n);delete e[r],o(e),S("YET")}),[]),v=K(f.useState("YET"),2),b=v[0],S=v[1],y=K(f.useState(null),2),C=y[0],x=y[1],j=K(f.useState(0),2),g=j[0],N=j[1],A=K(f.useState(null),2),k=A[0],w=A[1];f.useEffect((function(){if("YET"===b){var e=new c.f(a.R.inputDim,a.R.outputDim);x(e)}}),[b]),f.useEffect((function(){if(null!==C){var e=0,t=!0,a=!1,o=void 0;try{for(var u,i=Object.entries(n)[Symbol.iterator]();!(t=(u=i.next()).done);t=!0){var l=K(u.value,2),c=l[0],d=l[1],p=c;if(p===r){S("DONE");var f=(0,m.H)(d);w(f)}var h=s.g[p];C.addPoint(h,d),e+=1}}catch(v){a=!0,o=v}finally{try{t||null==i.return||i.return()}finally{if(a)throw o}}N(e)}}),[r,n,C]);var E=f.useCallback((function(){g<=a.R.inputDim?S("SELECT"):S("SEARCH")}),[g]),O=K(f.useState(null),2),P=O[0],T=O[1],D=f.useCallback((function(e){T(e),S("EDIT")}),[]),H=f.useCallback((function(e){var r=(0,m.Z)(e);i(r),S("DONE")}),[i]),V=f.useCallback((function(){S("SELECT")}),[]),F=(0,p.useRouter)(),M=f.useCallback((function(){F.push("/settingshape")}),[F]),R=f.useCallback((function(){o({}),F.push("/settingshape")}),[F,o]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{children:["SoundID : ",r]}),(0,t.jsx)("audio",{src:(0,d.H)("/audios/repSounds/".concat(r,".wav")),controls:!0}),"YET"===b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_,{text:"\u3053\u306e\u97f3\u306e\u56f3\u5f62\u306e\u9078\u629e\u3092\u958b\u59cb",onClick:E}),(0,t.jsx)(_,{text:"\u5168\u3066\u306e\u97f3\u306b\u5bfe\u3059\u308b\u56f3\u5f62\u306e\u9078\u629e\u3092\u30ea\u30bb\u30c3\u30c8",onClick:R,className:Q().cancel__button})]}),"SELECT"===b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"Select one shape that you feel most congruent to the sound."}),(0,t.jsx)(I,{selectCallback:D})]}),"EDIT"===b&&null!==P&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"Adjust the parameters so that you feel the shape most congruent to the sound."}),(0,t.jsx)(G,{defaultShapeParams:u[P],confirmCallback:H,cancelCallback:V})]}),"SEARCH"===b&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("p",{children:"Adjust the parameters so that you feel the shape most congruent to the sound."})}),"DONE"===b&&null!==k&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.DrawSamplingPointsSketch,{canvasWidth:150,canvasHeight:150,samplingPoints:k}),(0,t.jsx)(_,{text:"\u6b21\u3078",onClick:M}),(0,t.jsx)(_,{text:"\u3053\u306e\u97f3\u306b\u5bfe\u3059\u308b\u56f3\u5f62\u306e\u9078\u629e\u3092\u3084\u308a\u76f4\u3059",onClick:h,className:Q().cancel__button}),(0,t.jsx)(_,{text:"\u5168\u3066\u306e\u97f3\u306b\u5bfe\u3059\u308b\u56f3\u5f62\u306e\u9078\u629e\u3092\u30ea\u30bb\u30c3\u30c8",onClick:R,className:Q().cancel__button})]})]})}},9839:function(e,r,n){"use strict";n.d(r,{r:function(){return l}});var t=n(5893),a=n(7294),s=n(4035),o=n.n(s);function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function i(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,s=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(s.push(t.value),!r||s.length!==r);o=!0);}catch(i){u=!0,a=i}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return s}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return u(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=function(e){var r=e.sketch,n=e.sketchProps,s=e.className,u=i(a.useState(null),2),l=u[0],c=u[1],m=a.useRef(null);return a.useEffect((function(){if(null!==m.current){var e=function(e){var r=e.sketch,n=e.initialSketchProps;return function(e){e.props=n,r(e)}}({sketch:r,initialSketchProps:n}),t=new(o())(e,m.current);c(t)}}),[]),a.useEffect((function(){null!==l&&(l.props=n)}),[l,n]),(0,t.jsx)("div",{ref:m,className:s})}},5640:function(e,r,n){"use strict";n.r(r),n.d(r,{DrawSamplingPointsSketch:function(){return o}});var t=n(5893),a=n(9839),s=(n(7294),function(e){e.setup=function(){e.createCanvas(e.props.canvasWidth,e.props.canvasHeight)};e.draw=function(){e.background(255),e.translate(e.width/2,e.height/2),e.fill(255),e.stroke(0),e.rect(-e.width/2,-e.height/2,e.width,e.height);var r=e.props.samplingPoints;!function(r){var n=r.radius,t=r.samplingPoints;null!==t&&(e.stroke(0),e.strokeWeight(1),e.noFill(),e.beginShape(),t.forEach((function(r){e.vertex(n*r[0],n*r[1])})),e.endShape(e.CLOSE))}({radius:e.width/4,samplingPoints:r}),e.translate(-e.width/2,-e.height/2)}}),o=function(e){var r=e.canvasWidth,n=e.canvasHeight,o=e.samplingPoints,u=e.className;return(0,t.jsx)(a.r,{sketch:s,sketchProps:{canvasWidth:r,canvasHeight:n,samplingPoints:o},className:u})}},9678:function(e){e.exports={cancel__button:"Annotator_cancel__button__tVcIH"}},6342:function(e){e.exports={container:"SampleShapeItem_container__jsZV6",index__label:"SampleShapeItem_index__label__eUQGO",shape__image:"SampleShapeItem_shape__image__j4cJa"}},6338:function(e){e.exports={container:"SampleShapeSelector_container__S_BQd"}},3006:function(e){e.exports={container:"ShapeEditor_container__OPfzu",edit__section:"ShapeEditor_edit__section__creBO",slider__section:"ShapeEditor_slider__section__xV7Tr",slider__wrapper:"ShapeEditor_slider__wrapper__fTl4j",slider__label:"ShapeEditor_slider__label__hiTAW",slider:"ShapeEditor_slider__HfkjE",button__section:"ShapeEditor_button__section__FqTn8",confirm__button:"ShapeEditor_confirm__button___yAHi",cancel__button:"ShapeEditor_cancel__button__yCJ8k"}},1314:function(e){e.exports={button__basic:"Button_button__basic__5C4_V"}}}]);