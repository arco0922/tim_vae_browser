(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5422],{9327:function(t,n,e){"use strict";e.d(n,{W:function(){return l}});var r=e(5893),a=e(1639),o=e(5640),c=e(5952),i=e(8018),s=e.n(i),l=function(t){var n=t.estimatedShapeVector,e=t.isCorrectCallback,i=t.isNotCorrectCallback;return(0,r.jsxs)("div",{className:s().container,children:[(0,r.jsx)("div",{className:s().sketch__section,children:(0,r.jsx)(o.DrawSamplingPointsSketch,{canvasWidth:150,canvasHeight:150,samplingPoints:(0,c.H)(n)})}),(0,r.jsxs)("div",{className:s().button__section,children:[(0,r.jsx)(a.z,{text:"\u3053\u306e\u56f3\u5f62\u3067\u554f\u984c\u306a\u3044",className:s().confirm__button,onClick:e}),(0,r.jsx)(a.z,{text:"\u56f3\u5f62\u3092\u4fee\u6b63\u3059\u308b",className:s().cancel__button,onClick:i})]})]})}},7495:function(t,n,e){"use strict";e.d(n,{P:function(){return v}});var r=e(5893),a=e(5952),o=e(5152),c=e.n(o),i=e(7294),s=e(5872),l=e.n(s),u=e(2055),_=e(7995),f=e(1639);function d(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function b(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,a,o=[],c=!0,i=!1;try{for(e=e.call(t);!(c=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);c=!0);}catch(s){i=!0,a=s}finally{try{c||null==e.return||e.return()}finally{if(i)throw a}}return o}}(t,n)||h(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,n){if(t){if("string"===typeof t)return d(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?d(t,n):void 0}}var p=c()((function(){return Promise.resolve().then(e.bind(e,5640)).then((function(t){return t.DrawSamplingPointsSketch}))}),{loadableGenerated:{webpack:function(){return[5640]}},ssr:!1}),v=function(t){var n=t.defaultShapeVector,e=t.suggestionVectorsInfo,o=t.foundCallback,c=t.notFoundCallback,s=b(i.useState(new Array(e.length).fill(0)),2),d=s[0],h=s[1],v=i.useCallback((function(t,n){var e=m(d);e[t]=n,h(e)}),[d]),x=b(i.useState(n),2),S=x[0],y=x[1],j=b(i.useState((0,a.H)(n)),2),C=j[0],g=j[1];return i.useEffect((function(){var t=m(n);d.forEach((function(n,r){t=u.IHx(t,u.JpY(n,e[r].vector))})),y(t)}),[n,e,d]),i.useEffect((function(){var t=(0,a.H)(S);g(t)}),[S]),(0,r.jsxs)("div",{className:l().container,children:[(0,r.jsxs)("div",{className:l().searcher__section,children:[(0,r.jsx)("div",{className:l().sketch__section,children:(0,r.jsx)(p,{canvasWidth:150,canvasHeight:150,samplingPoints:C})}),(0,r.jsx)("div",{className:l().edit__section,children:(0,r.jsx)("div",{className:l().slider__section,children:e.map((function(t,n){return(0,r.jsx)("div",{className:l().slider__wrapper,children:(0,r.jsx)(_.I,{value:d[n],setValue:function(t){return v(n,t)},min:t.minCoefficient,max:t.maxCoefficient,step:(t.maxCoefficient-t.minCoefficient)/100,className:l().slider})},"slider_".concat(n))}))})})]}),(0,r.jsxs)("div",{className:l().button__section,children:[void 0!==o&&(0,r.jsx)(f.z,{text:"\u3053\u306e\u56f3\u5f62\u3067\u6c7a\u5b9a",className:l().confirm__button,onClick:function(){return o(S)}}),c&&(0,r.jsx)(f.z,{text:"\u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u306f\u5bfe\u5fdc\u3059\u308b\u3068\u611f\u3058\u308b\u56f3\u5f62\u3092\u4f5c\u308c\u306a\u3044",className:l().cancel__button,onClick:c})]})]})}},1009:function(t,n,e){"use strict";e.r(n),e.d(n,{Annotator:function(){return k}});var r=e(5893),a=e(2916),o=e(4524),c=e(915),i=e(5640),s=e(7941),l=e(5952),u=e(7979),_=e(7294),f=e(1639),d=e(7347),b=e(4449),m=e(9678),h=e.n(m),p=e(9327),v=e(7495);function x(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function S(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function y(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))),r.forEach((function(n){S(t,n,e[n])}))}return t}function j(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,a,o=[],c=!0,i=!1;try{for(e=e.call(t);!(c=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);c=!0);}catch(s){i=!0,a=s}finally{try{c||null==e.return||e.return()}finally{if(i)throw a}}return o}}(t,n)||g(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t){return function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,n){if(t){if("string"===typeof t)return x(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?x(t,n):void 0}}var k=function(t){var n=t.repSoundId,e=t.annotations,m=t.setAnnotations,x=t.correctEstimationHistory,g=t.setCorrectEstimationHistory,k=t.goNextCallback,E=t.resetCallback,N=_.useCallback((function(t){var r=y({},e,S({},n,t));m(r)}),[e,m,n]),w=_.useCallback((function(t){var e=C(x).filter((function(t){return t[0]!==n}));e.push([n,t]),g(e)}),[x,g,n]),A=_.useCallback((function(){var t=y({},e);delete t[n],m(t),D("YET"),null!==st.current&&it(!st.current.paused)}),[]),O=j(_.useState("YET"),2),I=O[0],D=O[1],H=j(_.useState(null),2),P=H[0],T=H[1],R=j(_.useState(0),2),z=R[0],F=R[1],V=j(_.useState(null),2),J=V[0],W=V[1],L=j(_.useState(null),2),Y=L[0],G=L[1],U=j(_.useState(null),2),B=U[0],M=U[1];_.useEffect((function(){if("YET"===I){var t=new s.f(a.R.inputDim,a.R.outputDim);T(t)}}),[I]),_.useEffect((function(){if(null!==P){var t=0,r=!0,a=!1,c=void 0;try{for(var i,s=Object.entries(e)[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var u=j(i.value,2),_=u[0],f=u[1],d=_;if(d===n){D("DONE");var b=(0,l.H)(f);W(b)}var m=o.gu[d];P.addPoint(m,f),t+=1}}catch(v){a=!0,c=v}finally{try{r||null==s.return||s.return()}finally{if(a)throw c}}if(t>0){var h=P.estimate(o.gu[n]),p=P.suggestVectors(o.gu[n]);G(h),M(p)}F(t)}}),[n,e,P]);var X=_.useCallback((function(){z<=a.R.inputDim?D("SELECT"):D("JUDGE")}),[z]),$=j(_.useState(null),2),q=$[0],K=$[1],Q=_.useCallback((function(t){K(t),D("EDIT")}),[]),Z=_.useCallback((function(t){var n=(0,l.Z)(t);N(n),D("DONE")}),[N]),tt=_.useCallback((function(){D("SELECT")}),[]),nt=_.useCallback((function(){null!==Y&&(N(Y),w("CORRECT"),D("DONE"))}),[Y,N,w]),et=_.useCallback((function(){null!==Y&&D("SEARCH")}),[Y]),rt=_.useCallback((function(t){N(t),w("SEARCH"),D("DONE")}),[N,w]),at=_.useCallback((function(){w("SELECT"),D("SELECT")}),[w]),ot=j(_.useState(!1),2),ct=ot[0],it=ot[1],st=_.useRef(null);return(0,r.jsxs)("div",{className:h().container,children:[(0,r.jsxs)("h2",{className:h().title,children:["\u30b9\u30c6\u30c3\u30d71-","DONE"===I?z:z+1]}),(0,r.jsx)("audio",{src:(0,u.H)("/audios/repSounds/".concat(n,".wav")),controls:!0,loop:!0,onPlay:function(){return it(!0)},ref:st,className:h().audio}),"DONE"===I||ct?(0,r.jsxs)(r.Fragment,{children:["YET"===I&&(0,r.jsxs)("div",{className:h().button__section,children:[(0,r.jsx)(f.z,{text:"\u3053\u306e\u97f3\u306b\u5bfe\u3059\u308b\u56f3\u5f62\u306e\u56de\u7b54\u3092\u958b\u59cb",onClick:X,className:h().button}),z>0&&(0,r.jsx)(f.z,{text:"\u5168\u3066\u306e\u97f3\u306b\u5bfe\u3059\u308b\u56f3\u5f62\u306e\u56de\u7b54\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u3001\u56f3\u5f62\u306e\u56de\u7b54\u3092\u59cb\u3081\u304b\u3089\u884c\u3046",onClick:E,className:"".concat(h().cancel__button," ").concat(h().button)})]}),"SELECT"===I&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:h().guide,children:"\u4e0b\u306e\u56f3\u5f62\u306e\u4e2d\u304b\u3089\u3001\u97f3\u306b\u6700\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3068\u611f\u3058\u308b\u56f3\u5f62\u3092\u4e00\u3064\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002"}),(0,r.jsx)(d.L,{selectCallback:Q})]}),"EDIT"===I&&null!==q&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:h().guide,children:["\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5fae\u8abf\u7bc0\u3057\u3001\u81ea\u5206\u306b\u3068\u3063\u3066\u6700\u3082\u97f3\u306b\u5bfe\u5fdc\u3059\u308b\u3068\u611f\u3058\u308b\u3088\u3046\u306b\u56f3\u5f62\u3092\u5909\u5f62\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002",(0,r.jsx)("br",{}),"\u65e2\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3068\u611f\u3058\u308b\u5834\u5408\u306f\u305d\u306e\u307e\u307e\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\u3002"]}),(0,r.jsx)(b.T,{defaultShapeParams:c._[q],confirmCallback:Z,cancelCallback:tt})]}),"JUDGE"===I&&null!==Y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:h().guide,children:["\u3053\u308c\u307e\u3067\u306e\u3042\u306a\u305f\u306e\u56de\u7b54\u304b\u3089\u3001\u3053\u306e\u97f3\u306b\u5bfe\u3057\u3066\u306f\u4ee5\u4e0b\u306e\u56f3\u5f62\u304c\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3068\u611f\u3058\u308b\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u63a8\u5b9a\u3055\u308c\u307e\u3057\u305f\u3002",(0,r.jsx)("br",{}),"\u3053\u306e\u56f3\u5f62\u304c\u78ba\u304b\u306b\u97f3\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3068\u611f\u3058\u308b\u5834\u5408\u3001\u300c\u3053\u306e\u56f3\u5f62\u3067\u554f\u984c\u306a\u3044\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002",(0,r.jsx)("br",{}),"\u3053\u306e\u56f3\u5f62\u3067\u306f\u97f3\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3068\u611f\u3058\u308b\u5834\u5408\u3001\u300c\u56f3\u5f62\u3092\u4fee\u6b63\u3059\u308b\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),(0,r.jsx)(p.W,{estimatedShapeVector:Y,isCorrectCallback:nt,isNotCorrectCallback:et})]}),"SEARCH"===I&&null!==Y&&null!==B&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:h().guide,children:["\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8abf\u7bc0\u3057\u3066\u3001\u56f3\u5f62\u304c\u97f3\u306b\u5bfe\u5fdc\u3059\u308b\u3068\u611f\u3058\u308b\u3088\u3046\u306b\u5909\u5f62\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002",(0,r.jsx)("br",{}),"\u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u306f\u5bfe\u5fdc\u3059\u308b\u3068\u611f\u3058\u308b\u56f3\u5f62\u3092\u4f5c\u308c\u306a\u3044\u5834\u5408\u306f\u3001",(0,r.jsx)("br",{}),"\u300c\u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u306f\u5bfe\u5fdc\u3059\u308b\u3068\u611f\u3058\u308b\u56f3\u5f62\u3092\u4f5c\u308c\u306a\u3044\u300d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002"]}),(0,r.jsx)(v.P,{defaultShapeVector:Y,suggestionVectorsInfo:B,foundCallback:rt,notFoundCallback:at})]})]}):(0,r.jsx)("p",{children:"\u4e0a\u306e\u97f3\u3092\u518d\u751f\u3057\u3066\u304f\u3060\u3055\u3044\uff08\u97f3\u306f\u7e70\u308a\u8fd4\u3057\u518d\u751f\u3055\u308c\u307e\u3059\uff09\u3002"}),"DONE"===I&&null!==J&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:h().guide,children:["\u3042\u306a\u305f\u304c\u3053\u306e\u97f3\u306b\u5bfe\u5fdc\u3059\u308b\u3068\u56de\u7b54\u3057\u305f\u56f3\u5f62\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002",(0,r.jsx)("br",{}),"\u3053\u306e\u307e\u307e\u3067\u554f\u984c\u306a\u3044\u5834\u5408\u306f\u4e0b\u306e\u300c\u6b21\u3078\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),(0,r.jsx)(i.DrawSamplingPointsSketch,{canvasWidth:150,canvasHeight:150,samplingPoints:J}),(0,r.jsxs)("div",{className:h().button__section,children:[(0,r.jsx)(f.z,{text:"\u6b21\u3078",onClick:k,className:h().button}),(0,r.jsx)(f.z,{text:"\u3053\u306e\u97f3\u306b\u5bfe\u3059\u308b\u56f3\u5f62\u306e\u56de\u7b54\u3092\u3084\u308a\u76f4\u3059",onClick:A,className:"".concat(h().cancel__button," ").concat(h().button)}),z>0&&(0,r.jsx)(f.z,{text:"\u5168\u3066\u306e\u97f3\u306b\u5bfe\u3059\u308b\u56f3\u5f62\u306e\u56de\u7b54\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u3001\u56f3\u5f62\u306e\u56de\u7b54\u3092\u59cb\u3081\u304b\u3089\u884c\u3046",onClick:E,className:"".concat(h().cancel__button," ").concat(h().button)})]})]})]})}},1639:function(t,n,e){"use strict";e.d(n,{z:function(){return i}});var r=e(5893),a=e(7294),o=e(1314),c=e.n(o),i=a.memo((function(t){var n=t.text,e=t.className,a=t.onClick,o=t.disabled,i=void 0!==o&&o;return(0,r.jsx)("button",{onClick:a,className:"".concat(c().button__basic," ").concat(e||""),disabled:i,children:n})}))},9678:function(t){t.exports={container:"Annotator_container__nNIFf",title:"Annotator_title__Vij_R",audio:"Annotator_audio__8kR0s",guide:"Annotator_guide___F95P",button__section:"Annotator_button__section__gYWGF",button:"Annotator_button__WeKO3",cancel__button:"Annotator_cancel__button__tVcIH"}},8018:function(t){t.exports={container:"CorrectEstimationJudger_container__aP3_g",button__section:"CorrectEstimationJudger_button__section__w8syL",confirm__button:"CorrectEstimationJudger_confirm__button__5Udw9",cancel__button:"CorrectEstimationJudger_cancel__button__tj2Xr"}},5872:function(t){t.exports={container:"ShapeSearcher_container__zWB7z",searcher__section:"ShapeSearcher_searcher__section__uY1No",edit__section:"ShapeSearcher_edit__section__RA6iE",slider__section:"ShapeSearcher_slider__section__tpRHH",slider__wrapper:"ShapeSearcher_slider__wrapper__6Qg_8",slider__label:"ShapeSearcher_slider__label__qwOM4",slider:"ShapeSearcher_slider__6BhTG",button__section:"ShapeSearcher_button__section__rF7Xs",confirm__button:"ShapeSearcher_confirm__button__Hpfdu",cancel__button:"ShapeSearcher_cancel__button__3l3Jr"}},1314:function(t){t.exports={button__basic:"Button_button__basic__5C4_V"}}}]);