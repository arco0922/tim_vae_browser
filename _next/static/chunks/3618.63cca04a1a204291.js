(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3618],{2916:function(r,t,n){"use strict";n.d(t,{R:function(){return i}});var i={inputDim:2,outputDim:2048}},7941:function(r,t,n){"use strict";n.d(t,{f:function(){return u}});var i=n(1029),e=n(6951),o=function(r,t,n,o){for(var a=r.length,s=t.length,u=n.map((function(t){return t.map((function(t,n){return t-r[n]}))})),c=u.map((function(r){var t=r.reduce((function(r,t){return r+t*t}),0);return 0===t?1:1/t})),l=o.map((function(r){return r.map((function(r,n){return r-t[n]}))})),f=new Array(a).fill(0).map((function(){return new Array(a).fill(0)})),p=new Array(s).fill(0).map((function(){return new Array(a).fill(0)})),h=0;h<n.length;h++){for(var m=0;m<a;m++)for(var d=0;d<a;d++)f[m][d]+=c[h]*u[h][d]*u[h][m];for(var v=0;v<s;v++)for(var y=0;y<a;y++)p[v][y]+=c[h]*u[h][y]*l[h][v]}var x=new i.Z(f),A=new i.Z(p),I=(0,e.S)(x,!0);return A.mmul(I).to2DArray()},a=n(1568),s=n(2055);var u=function(){function r(t,n){!function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.inputDim=t,this.outputDim=n,this.points=[],this.vectors=[],this.simplexPointIds=[],this.simplexVectors=[],this.hullFacetPointIds=[],this.hullFacetVectors=[],this.simplexTransforms=[],this.hullFacetJacobians=[]}var t=r.prototype;return t.addPoint=function(r,t){this.points.push(r),this.vectors.push(t),this._updateDelaunay(),this._updateSimplexTransforms(),this._updateHullFacetJacobians()},t.estimate=function(r){var t=this._findSimplex(r),n=t.iSimplex,i=t.barycentricCoordInSimplex;if(n>=0)return this._linearInterpolateVector(i,this.simplexVectors[n]);var e=this._findNearestFacet(r),o=e.iFacet,a=e.barycentricCoordOfNearestPoint,u=e.ordinaryCoordOfNearestPoint,c=this._linearInterpolateVector(a,this.hullFacetVectors[o]),l=this._linearInterpolateMatrix(a,this.hullFacetJacobians[o]),f=s.$XF(r,u);return this._firstOrderApproximation(c,l,f)},t.suggestVectors=function(r){var t=this._findSimplex(r),n=t.iSimplex,i=t.barycentricCoordInSimplex;if(n>=0){for(var e=this.simplexVectors[n][this.inputDim],o=[],a=0;a<this.inputDim;a++){var u=s.$XF(this.simplexVectors[n][a],e),c=-i[a],l=1-i[a];o.push({vector:u,minCoefficient:c,maxCoefficient:l})}return o}for(var f=this._findNearestFacet(r),p=f.iFacet,h=f.barycentricCoordOfNearestPoint,m=this._linearInterpolateMatrix(h,this.hullFacetJacobians[p]),d=[],v=0;v<this.inputDim;v++){var y=new Array(this.inputDim).fill(0);y[v]=1;var x=s.JpY(m,y);d.push({vector:x,minCoefficient:-2,maxCoefficient:2})}return d},t._updateDelaunay=function(){if(2===this.inputDim){for(var r=a.Z.from(this.points),t=r.triangles,n=[],i=[],e=0;e<t.length;e+=3)n.push([t[e],t[e+1],t[e+2]]),i.push([this.vectors[t[e]],this.vectors[t[e+1]],this.vectors[t[e+2]]]);var o=r.hull,s=[],u=[];if(o.length<this.inputDim+1){var c=this;s.push(Array.from(o)),u.push(Array.from(o).map((function(r){return c.vectors[r]})))}else for(var l=0;l<o.length;l++)s.push([o[l],o[(l+1)%o.length]]),u.push([this.vectors[o[l]],this.vectors[o[(l+1)%o.length]]]);return this.simplexPointIds=n,this.simplexVectors=i,this.hullFacetPointIds=s,void(this.hullFacetVectors=u)}},t._updateSimplexTransforms=function(){for(var r=this,t=function(t){for(var o=r,a=new Array(r.inputDim+1).fill(0).map((function(){return new Array(o.inputDim).fill(0)})),s=0;s<r.inputDim;s++)a[r.inputDim][s]=r.points[r.simplexPointIds[t][r.inputDim]][s];for(var u=new Array(r.inputDim).fill(0).map((function(){return new Array(o.inputDim).fill(0)})),c=0;c<r.inputDim;c++)for(var l=0;l<r.inputDim;l++)u[c][l]=r.points[r.simplexPointIds[t][l]][c]-r.points[r.simplexPointIds[t][r.inputDim]][c];for(var f=new i.Z(u),p=(0,e.S)(f,!0).to2DArray(),h=0;h<r.inputDim;h++)for(var m=0;m<r.inputDim;m++)a[h][m]=p[h][m];n.push(a)},n=[],o=0;o<this.simplexPointIds.length;o++)t(o);this.simplexTransforms=n},t._updateHullFacetJacobians=function(){for(var r=[],t=0;t<this.hullFacetPointIds.length;t++){for(var n=[],i=this.hullFacetPointIds[t],e=0;e<i.length;e++){var a=this,s=i[e],u=this._findAdjPointIds(s),c=[],l=[];u.forEach((function(r){c.push(a.points[r]),l.push(a.vectors[r])}));var f=o(this.points[s],this.vectors[s],c,l);n.push(f)}r.push(n)}this.hullFacetJacobians=r},t._findAdjPointIds=function(r){var t=new Set;return 0===this.simplexPointIds.length?this.points.forEach((function(n,i){i!==r&&t.add(i)})):this.simplexPointIds.forEach((function(n){new Set(n).has(r)&&n.forEach((function(n){n!==r&&t.add(n)}))})),t},t._findSimplex=function(r){for(var t=1e-5,n=0;n<this.simplexPointIds.length;n++){for(var i=this._calcBarycentricCoordInSimplex(r,n),e=!0,o=0;o<i.length;o++)(i[o]<-t||i[o]>1+t)&&(e=!1);if(e)return{iSimplex:n,barycentricCoordInSimplex:i}}return{iSimplex:-1,barycentricCoordInSimplex:[]}},t._findNearestFacet=function(r){for(var t=1/0,n=-1,i=[],e=[],o=0;o<this.hullFacetPointIds.length;o++){var a=this._calcBarycentricCoordOfNearestPointInFacet(r,o),u=this._calcOrdinaryCoordFromBarycentricCoordInFacet(a,o),c=s.KOy(s.$XF(r,u));c<t&&(t=c,n=o,i=a,e=u)}return{iFacet:n,barycentricCoordOfNearestPoint:i,ordinaryCoordOfNearestPoint:e}},t._calcBarycentricCoordOfNearestPointInFacet=function(r,t){var n=this,i=this.hullFacetPointIds[t].length;if(1===i)return[1];for(var e=new Array(i-1).fill(0).map((function(r,e){return s.$XF(n.points[n.hullFacetPointIds[t][e]],n.points[n.hullFacetPointIds[t][i-1]])})),o=s.$XF(r,this.points[this.hullFacetPointIds[t][i-1]]),a=new Array(i-1).fill(0).map((function(){return new Array(i-1)})),u=0;u<i-1;u++)for(var c=0;c<i-1;c++)a[u][c]=s.AKD(e[u],e[c]);for(var l=new Array(i-1).fill(0),f=0;f<i-1;f++)l[f]=s.AKD(e[f],o);var p=s.JpY(s.JBn(a),l),h=new Array(i).fill(0);h[i-1]=1;for(var m=0;m<i-1;m++)h[m]=Math.min(Math.max(p[m],0),1),h[i-1]-=h[m];return h},t._calcOrdinaryCoordFromBarycentricCoordInFacet=function(r,t){var n=this,i=this.hullFacetPointIds[t].map((function(r){return n.points[r]}));return this._linearInterpolateVector(r,i)},t._calcBarycentricCoordInSimplex=function(r,t){var n=r.length,i=new Array(n+1).fill(0);i[n]=1;for(var e=this.simplexTransforms[t],o=0;o<n;o++){for(var a=0;a<n;a++)i[o]+=e[o][a]*(r[a]-e[n][a]);i[n]-=i[o]}return i},t._linearInterpolateVector=function(r,t){var n=r.length;if(0===n)return[];for(var i=t[0].length,e=new Array(i).fill(0),o=0;o<i;o++)for(var a=0;a<n;a++)e[o]+=r[a]*t[a][o];return e},t._linearInterpolateMatrix=function(r,t){var n=r.length;if(0===n)return[];for(var i=t[0].length,e=t[0][0].length,o=new Array(i).fill(0).map((function(){return new Array(e).fill(0)})),a=0;a<i;a++)for(var s=0;s<e;s++)for(var u=0;u<n;u++)o[a][s]+=r[u]*t[u][a][s];return o},t._firstOrderApproximation=function(r,t,n){return s.IHx(r,s.JpY(t,n))},r}()},5952:function(r,t,n){"use strict";n.d(t,{H:function(){return f},Z:function(){return l}});var i=n(9645),e=n.n(i),o=n(4035),a=n.n(o);function s(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=r[n];return i}function u(r){return function(r){if(Array.isArray(r))return s(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,t){if(!r)return;if("string"===typeof r)return s(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(r,t)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=2e3,l=function(r){var t=r.cornNum,n=r.cornAmp,i=r.randomness,e=r.randomSeed,o=r.outerCurve,s=r.innerCurve,c=new(a())((function(){})),l=m({p:c,cornNum:t,cornAmp:n,randomness:i,randomSeed:e,innerCurve:s,outerCurve:o}),f=l.samplingPointsX,p=l.samplingPointsY,h=d(f),v=d(p);return u(h).concat(u(v))},f=function(r){var t=r.length/4,n=r.slice(0,2*t),i=r.slice(2*t),e=v(n),o=v(i);return e.map((function(r,t){return[r,o[t]]}))},p=function(r){for(var t=r.p,n=r.bezierOperator,i=0,e=n[0].x,o=n[0].y,a=e,s=o,u=Array(2001),l=0;l<=c;l++)a=t.bezierPoint(n[0].x,n[1].x,n[2].x,n[3].x,l/c),s=t.bezierPoint(n[0].y,n[1].y,n[2].y,n[3].y,l/c),i+=t.dist(e,o,a,s),u[l]=i,e=a,o=s;return u},h=function(r){for(var t=r.p,n=r.bezierOperator,i=r.distArray,e=r.offset,o=r.segmentL,a=0,s=[],u=[],l=0;l<=c;l++)if(i[l]>=o*a+e){var f=t.bezierPoint(n[0].x,n[1].x,n[2].x,n[3].x,l/c),p=t.bezierPoint(n[0].y,n[1].y,n[2].y,n[3].y,l/c);s.push(f),u.push(p),a+=1}return{pointsX:s,pointsY:u,rest:e+a*o-i[2e3]}},m=function(r){var t=r.p,n=r.cornNum,i=r.cornAmp,e=r.randomness,o=r.randomSeed,a=r.outerCurve,s=r.innerCurve;t.randomSeed(o);for(var c=Array(2*n),l=Array(2*n),f=0;f<2*n;f++)c[f]=1*(1+i*t.pow(-1,f)+e*t.random(-1,1)*.4),l[f]=t.PI*f/n-t.PI/2+e*t.random(-1,1)*t.PI/n;for(var m=Array(2*n),d=Array(2*n),v=0;v<2*n;v++){var y=v,x=(v+1)%(2*n),A=c[y]*t.cos(l[y]),I=c[y]*t.sin(l[y]),g=c[x]*t.cos(l[x]),P=c[x]*t.sin(l[x]),C=t.createVector(-I,A).normalize(),F=t.createVector(P,-g).normalize(),b=void 0;y%2==0?(b=[{x:A,y:I},{x:A+.5*a*C.x,y:I+.5*a*C.y},{x:g+.5*s*F.x,y:P+.5*s*F.y},{x:g,y:P}],m[v]=b,d[v]=p({p:t,bezierOperator:b})):(b=[{x:A,y:I},{x:A+.5*s*C.x,y:I+.5*s*C.y},{x:g+.5*a*F.x,y:P+.5*a*F.y},{x:g,y:P}],m[v]=b,d[v]=p({p:t,bezierOperator:b}))}var w=0;d.forEach((function(r){return w+=r[2e3]}));for(var _=w/512,D=0,S=[],O=[],N=0;N<2*n;N++){var V=h({p:t,bezierOperator:m[N],distArray:d[N],offset:D,segmentL:_}),z=V.pointsX,J=V.pointsY,E=V.rest;S=u(S).concat(u(z)),O=u(O).concat(u(J)),D=E}for(;S.length>512;)S.pop(),O.pop();return{samplingPointsX:S,samplingPointsY:O}},d=function(r){var t=new(e())(r.length),n=t.toComplexArray(r,null),i=t.createComplexArray();return t.transform(i,n),i},v=function(r){var t=r.length/2,n=new(e())(t),i=n.createComplexArray();return n.inverseTransform(i,r),n.fromComplexArray(i,null)}},7979:function(r,t,n){"use strict";n.d(t,{H:function(){return e}});var i=n(1752);function e(r){return(0,i.default)().publicRuntimeConfig.urlPrefix+r}},2007:function(){}}]);